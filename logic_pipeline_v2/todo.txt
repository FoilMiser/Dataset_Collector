================================================================================
TODO — Logic Corpus Pipeline
================================================================================

Legend:
  [x] = Completed
  [~] = Partially addressed / MVP landed
  [ ] = Not yet implemented

================================================================================
VERSION HISTORY (logic v2 adaptation)
================================================================================

v1 -> v2 Completed:
  [x] Adopted v2 stage contract and routing-aware pipeline_driver (targets_logic.yaml)
  [x] Logic-focused license_map, field_schemas, denylist skeletons, and difficulty map
  [x] Added logic-specific queues/gates (copyleft segregation, record-level filters)
  [x] Mirrored math v2 layout for raw/screened/combined/final shards

================================================================================
v2 -> v2.x — WHAT NEEDS TO CHANGE / BE UPDATED
================================================================================

HIGH PRIORITY (Production readiness)
------------------------------------
1) Logic-focused ingestion workers
   [ ] hf_logic_filter_worker.py for Common Pile logic subsets with record-level routing
   [ ] formal_logic_worker.py for Lean/Coq/Isabelle/Metamath chunking
   [ ] pdf_logic_worker.py to preserve symbols + proof structure
   [ ] Hook workers into yellow stage after review approval

2) Manual review UX
   [~] YELLOW review plan export (yellow_scrubber.py)
   [ ] CLI to assign reviewers + notes per target
   [ ] Optional dashboard for approvals with evidence previews

3) Testing + CI
   [ ] Unit tests for restriction scans and SPDX normalization
   [ ] Sample queue fixtures for logic targets
   [ ] Smoke test classify -> acquire -> screen -> merge -> difficulty -> catalog on tiny logic fixtures

MEDIUM PRIORITY (Quality + coverage)
------------------------------------
4) License handling and safety gates
   [ ] Implement record-level license checks for OER/StackExchange/SEP filters
   [ ] Expand restriction phrase library for NoAI/NoTDM language
   [ ] Enforce copyleft segregation in download outputs + catalogs

5) Data normalization
   [ ] Unicode + symbol normalization per worker
   [ ] Split-aware partitioning with split_group_id for exercises
   [ ] Near-duplicate detection tuned for proofs/SAT-SMT benchmarks

LOW PRIORITY (Ergonomics + future-proofing)
-------------------------------------------
6) Packaging + deployment
   [ ] Dockerfile for logic pipeline + example volume mounts
   [ ] Example orchestration (cron/Argo) for recurring runs
   [ ] Publish pinned requirements/lockfile

7) Observability
   [ ] Metrics on queue sizes, download throughput, and review turnaround
   [ ] Alerts for missing license evidence or stalled downloads

================================================================================
Notes for next iteration
================================================================================
- Keep synthetic/owned problem sets clearly marked and licensed (CC0 preferred).
- For OER/Pressbooks/LibreTexts, require per-record license metadata before release.
- Preserve symbols and proof markers end-to-end; avoid ASCII-fying equations or logical operators during transforms.
