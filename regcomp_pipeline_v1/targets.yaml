# targets_regcomp_v0.1.yaml
# Regulation & Compliance specialization targets for the ethical dataset collection pipeline.
# Goal: Prefer public domain / permissive sources; keep "yellow" sources behind stricter filters.
#
# Notes:
# - "worker" names are suggested modules you can implement similarly to your chem pipeline workers.
# - "license_expected" is a policy hint; the pipeline should still verify via license_scrub/allowlist.
# - "red_excluded" is informational; do NOT ingest unless you negotiate rights.

version: "0.1"
domain: "regulation_and_compliance"
default_language: "en"
default_jurisdictions: ["US-FED", "US-STATE", "EU", "UK", "CA", "AU"]

output:
  format: "jsonl"
  shard_size_docs: 100000
  text_encoding: "utf-8"

pipeline_policy:
  require_license_match: true
  require_attribution_bundle_for_cc: true
  store_raw: true
  store_normalized_text: true
  store_section_hierarchy: true
  store_effective_dates: true
  pii_policy:
    mode: "remove_or_hash"
    fields_to_remove:
      - "emails"
      - "phone_numbers"
      - "street_addresses"
      - "signatures"
      - "ssn_like"
  third_party_content_policy:
    flag_incorporation_by_reference: true
    flag_exhibits_and_appendices: true
    drop_flagged_sections_by_default: true

# -------------------------------------------------------------------
# GREEN TARGETS (generally safe; still run license + embedded-content checks)
# -------------------------------------------------------------------
green_targets:

  # --- US Federal: Canonical legal/regulatory backbone (public domain baseline) ---
  - id: "govinfo_cfr_bulk"
    name: "GPO GovInfo - Code of Federal Regulations (CFR) bulk"
    jurisdiction: "US-FED"
    doc_types: ["regulation"]
    access: "bulk"
    worker: "govinfo_bulk_worker"
    license_expected: "US_GOV_PUBLIC_DOMAIN"
    url: "https://www.govinfo.gov/bulkdata"
    notes:
      - "Prefer XML/structured where available; preserve ยง and hierarchy."
      - "Run incorporation-by-reference and 'reprint' detectors on Federal Register-linked material."

  - id: "govinfo_federal_register_bulk"
    name: "GPO GovInfo - Federal Register bulk"
    jurisdiction: "US-FED"
    doc_types: ["rulemaking", "notice", "proposed_rule", "final_rule"]
    access: "bulk"
    worker: "govinfo_bulk_worker"
    license_expected: "US_GOV_PUBLIC_DOMAIN"
    url: "https://www.govinfo.gov/bulkdata"
    notes:
      - "High value for definitions, preambles, rationale, enforcement intent."
      - "IMPORTANT: detect and drop copyrighted reprints/exhibits/IBR material."

  - id: "govinfo_uscode"
    name: "GPO GovInfo - United States Code (USC)"
    jurisdiction: "US-FED"
    doc_types: ["statute"]
    access: "bulk"
    worker: "govinfo_bulk_worker"
    license_expected: "US_GOV_PUBLIC_DOMAIN"
    url: "https://www.govinfo.gov/bulkdata"
    notes:
      - "Use as statutory authority mapping for CFR sections."

  - id: "govinfo_public_laws"
    name: "GPO GovInfo - Public Laws / Statutes at Large"
    jurisdiction: "US-FED"
    doc_types: ["statute"]
    access: "bulk"
    worker: "govinfo_bulk_worker"
    license_expected: "US_GOV_PUBLIC_DOMAIN"
    url: "https://www.govinfo.gov/bulkdata"
    notes:
      - "Useful for legislative change history and compliance evolution."

  - id: "federal_register_api"
    name: "FederalRegister.gov API - rulemaking feed"
    jurisdiction: "US-FED"
    doc_types: ["rulemaking", "notice", "proposed_rule", "final_rule"]
    access: "api"
    worker: "federalregister_api_worker"
    license_expected: "US_GOV_PUBLIC_DOMAIN"
    url: "https://www.federalregister.gov/developers/documentation/api/v1"
    notes:
      - "Use API for incremental updates + metadata (agencies, dates, CFR references)."
      - "Still run embedded third-party filters."

  # --- US Gov compliance controls / best practices (public domain baseline) ---
  - id: "nist_sp800"
    name: "NIST Special Publications (SP 800 series)"
    jurisdiction: "US-FED"
    doc_types: ["controls", "guidance", "framework"]
    access: "http"
    worker: "nist_worker"
    license_expected: "US_GOV_PUBLIC_DOMAIN"
    url: "https://csrc.nist.gov/publications/sp800"
    notes:
      - "Security + governance compliance backbone."
      - "Chunk by section headings; preserve numbered controls."

  - id: "nist_fips"
    name: "NIST FIPS publications"
    jurisdiction: "US-FED"
    doc_types: ["standard", "controls"]
    access: "http"
    worker: "nist_worker"
    license_expected: "US_GOV_PUBLIC_DOMAIN"
    url: "https://csrc.nist.gov/publications/fips"
    notes:
      - "Important for crypto/security compliance references."

  - id: "gao_reports"
    name: "GAO Reports (audit findings)"
    jurisdiction: "US-FED"
    doc_types: ["audit", "report"]
    access: "bulk_or_http"
    worker: "gao_worker"
    license_expected: "US_GOV_PUBLIC_DOMAIN"
    url: "https://www.gao.gov/reports-testimonies"
    notes:
      - "Great for real-world compliance failure patterns and mitigation recommendations."

  - id: "oig_reports"
    name: "Agency Inspector General (OIG) reports"
    jurisdiction: "US-FED"
    doc_types: ["audit", "investigation", "report"]
    access: "http"
    worker: "oig_worker"
    license_expected: "US_GOV_PUBLIC_DOMAIN"
    url: "https://www.oversight.gov/"
    notes:
      - "Ingest summaries and report text; apply PII policies carefully."

  # --- Enforcement / compliance datasets (structured) ---
  - id: "epa_echo"
    name: "EPA ECHO - Enforcement & Compliance History Online (structured)"
    jurisdiction: "US-FED"
    doc_types: ["compliance_dataset", "enforcement_dataset"]
    access: "api_or_bulk"
    worker: "epa_echo_worker"
    license_expected: "US_GOV_PUBLIC_DOMAIN_OR_OPEN_DATA"
    url: "https://echo.epa.gov/tools/data-downloads"
    notes:
      - "Structured compliance histories; ideal for supervised tasks and evaluation sets."
      - "Keep record-level provenance and schema version."

  - id: "osha_enforcement"
    name: "OSHA enforcement / inspections datasets (structured)"
    jurisdiction: "US-FED"
    doc_types: ["compliance_dataset", "enforcement_dataset"]
    access: "bulk_or_api"
    worker: "osha_worker"
    license_expected: "US_GOV_PUBLIC_DOMAIN_OR_OPEN_DATA"
    url: "https://www.osha.gov/foia/inspection"
    notes:
      - "May include business identifiers; enforce PII policy."

  - id: "usaspending"
    name: "USAspending.gov (contracts & assistance spending)"
    jurisdiction: "US-FED"
    doc_types: ["procurement_dataset"]
    access: "api"
    worker: "usaspending_worker"
    license_expected: "US_GOV_PUBLIC_DOMAIN_OR_OPEN_DATA"
    url: "https://api.usaspending.gov/"
    notes:
      - "Useful for government contracting compliance patterns (e.g., debarment correlation, audit triggers)."

  - id: "sam_exclusions"
    name: "SAM.gov exclusions/debarment dataset"
    jurisdiction: "US-FED"
    doc_types: ["exclusions_dataset"]
    access: "api_or_bulk"
    worker: "sam_worker"
    license_expected: "US_GOV_PUBLIC_DOMAIN_OR_OPEN_DATA"
    url: "https://sam.gov/"
    notes:
      - "Treat as structured; apply PII policy (natural persons may appear)."

  # --- Case law (open distributions) ---
  - id: "caselaw_access_project"
    name: "Caselaw Access Project (CAP) - bulk case law"
    jurisdiction: "US-FED"
    doc_types: ["case_law"]
    access: "bulk"
    worker: "cap_worker"
    license_expected: "OPEN_OR_CC0_DISTRIBUTION"
    url: "https://case.law/"
    notes:
      - "Use for regulatory interpretation tasks; store court + date metadata."

  # --- Common Pile (only allowlist-permitted documents) ---
  - id: "commonpile_regulation_subset"
    name: "Common Pile - regulation/compliance-relevant slices (allowlist only)"
    jurisdiction: "MULTI"
    doc_types: ["mixed"]
    access: "local_or_hf"
    worker: "commonpile_worker"
    license_expected: "MIXED_PER_DOC_LICENSE"
    url: "https://huggingface.co/datasets/common-pile"
    notes:
      - "Ingest ONLY documents whose per-doc license matches your allowlist."
      - "Run PII scrubber + third-party detector on all 'webby' sources."

# -------------------------------------------------------------------
# YELLOW TARGETS (valuable, but require stricter filters and/or manual review)
# -------------------------------------------------------------------
yellow_targets:

  - id: "regulations_gov_dockets"
    name: "Regulations.gov dockets (rulemaking materials)"
    jurisdiction: "US-FED"
    doc_types: ["docket", "comment", "supporting_material"]
    access: "api_or_bulk"
    worker: "regulationsgov_worker"
    license_expected: "MIXED"
    url: "https://www.regulations.gov/"
    notes:
      - "Prefer agency-authored supporting materials; treat public comments as HIGH PII risk."
      - "Enable aggressive PII removal; consider excluding attachments by default."

  - id: "ecfr_current_view"
    name: "eCFR current view snapshots (derivative of CFR)"
    jurisdiction: "US-FED"
    doc_types: ["regulation"]
    access: "http"
    worker: "ecfr_worker"
    license_expected: "US_GOV_PUBLIC_DOMAIN"
    url: "https://www.ecfr.gov/"
    notes:
      - "Useful for current consolidated text; keep snapshots with date."
      - "Prefer official bulk CFR when possible."

  - id: "eu_eurlex"
    name: "EUR-Lex (EU law) - acts, recitals, consolidated versions"
    jurisdiction: "EU"
    doc_types: ["directive", "regulation", "decision", "guidance"]
    access: "api_or_bulk"
    worker: "eurlex_worker"
    license_expected: "CC_BY_4_WITH_ATTRIBUTION"
    url: "https://eur-lex.europa.eu/"
    notes:
      - "Maintain attribution bundle; verify per-document reuse notice."
      - "Drop third-party annexes/attachments where rights are unclear."

  - id: "uk_legislation"
    name: "UK legislation.gov.uk"
    jurisdiction: "UK"
    doc_types: ["statute", "regulation"]
    access: "http_or_bulk"
    worker: "uk_legislation_worker"
    license_expected: "OGL"
    url: "https://www.legislation.gov.uk/"
    notes:
      - "Maintain OGL attribution; preserve section IDs."

  - id: "canada_open_gov_legal"
    name: "Canada open government legal/regulatory sources (federal)"
    jurisdiction: "CA"
    doc_types: ["statute", "regulation", "guidance"]
    access: "http"
    worker: "canada_open_gov_worker"
    license_expected: "OPEN_GOV_LICENSE"
    url: "https://open.canada.ca/"
    notes:
      - "Verify per-source license; store attribution text."

  - id: "australia_federal_legislation"
    name: "Australia Federal Register of Legislation"
    jurisdiction: "AU"
    doc_types: ["statute", "regulation"]
    access: "http"
    worker: "australia_legislation_worker"
    license_expected: "CC_BY_4_WITH_ATTRIBUTION"
    url: "https://www.legislation.gov.au/"
    notes:
      - "Maintain attribution; keep consolidated versions and amendment history."

  # --- State-level materials: vary by state (copyright assertions differ) ---
  - id: "us_state_admin_codes"
    name: "US state administrative codes & registers (per-state feeds)"
    jurisdiction: "US-STATE"
    doc_types: ["regulation", "notice"]
    access: "http"
    worker: "state_law_worker"
    license_expected: "VARIES_BY_STATE"
    url: "VARIES"
    notes:
      - "Gate per state: only ingest states with clear public-domain/permissive terms."
      - "Maintain source-specific license metadata."

  # --- Court repositories that may mix content / terms (verify before use) ---
  - id: "courtlistener_bulk"
    name: "CourtListener bulk (opinions, dockets)"
    jurisdiction: "US-FED"
    doc_types: ["case_law", "docket"]
    access: "bulk"
    worker: "courtlistener_worker"
    license_expected: "MIXED_TERMS_VERIFY"
    url: "https://www.courtlistener.com/api/"
    notes:
      - "Verify licensing/terms for included documents."
      - "Treat filings as potentially copyrighted; prefer court opinions."

  # --- SEC: split by doc type; filings are usually NOT clearly open ---
  - id: "sec_rules_releases"
    name: "SEC rules & releases (agency-authored)"
    jurisdiction: "US-FED"
    doc_types: ["rulemaking", "release", "guidance"]
    access: "http"
    worker: "sec_worker"
    license_expected: "US_GOV_PUBLIC_DOMAIN"
    url: "https://www.sec.gov/rules"
    notes:
      - "Good compliance guidance; still scan for embedded third-party material."

  - id: "edgar_filings"
    name: "SEC EDGAR corporate filings (company-authored)"
    jurisdiction: "US-FED"
    doc_types: ["corporate_filing"]
    access: "bulk_or_api"
    worker: "edgar_worker"
    license_expected: "CORPORATE_COPYRIGHT_ASSUME_RESTRICTED"
    url: "https://www.sec.gov/edgar"
    notes:
      - "Treat as restricted by default; only ingest if you have a rights strategy."
      - "If used, limit to metadata or very small snippets for evaluation (depending on policy)."

# -------------------------------------------------------------------
# RED (do not ingest unless you negotiate rights / explicit permissions)
# -------------------------------------------------------------------
red_excluded:
  - id: "iso_iec_standards"
    name: "ISO/IEC standards (e.g., ISO 27001/27002)"
    reason: "Commercial standards; licensing restrictions; not broadly reusable."

  - id: "astm_standards"
    name: "ASTM standards"
    reason: "Typically copyrighted; even if incorporated by reference, reuse can be restricted."

  - id: "nfpa_codes"
    name: "NFPA fire codes"
    reason: "Commercial codes; licensing restrictions."

  - id: "cis_benchmarks"
    name: "CIS Benchmarks"
    reason: "Licensing restrictions; treat as non-open by default."

  - id: "pci_dss"
    name: "PCI DSS / PCI SSC materials"
    reason: "Contract/copyright restrictions."

  - id: "aicpa_soc2"
    name: "AICPA / SOC 2 criteria text"
    reason: "Copyrighted/contract-restricted."

  - id: "ucca_ucc"
    name: "Uniform Commercial Code (UCC) text"
    reason: "Often copyrighted by ALI/ULC; not safe without rights."

  - id: "commercial_legal_publishers"
    name: "Westlaw/Lexis treatises, annotations, headnotes"
    reason: "Paywalled proprietary content."

  - id: "commercial_compliance_courseware"
    name: "Commercial compliance training courseware/exam prep"
    reason: "Proprietary educational content."

