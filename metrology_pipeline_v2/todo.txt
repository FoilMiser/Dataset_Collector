================================================================================
TODO — Metrology Corpus Pipeline
================================================================================

Legend:
  [x] = Completed
  [~] = Partially addressed / MVP landed
  [ ] = Not yet implemented

================================================================================
VERSION HISTORY (metrology adaptation)
================================================================================

v1.0 -> v2.0 Completed:
  [x] Adapted pipeline_driver + targets to metrology inventory (targets_metrology.yaml)
  [x] Added v2 acquisition/screen/merge/difficulty stages
  [x] Added PDF/HTML extraction in acquire_worker for chunked JSONL output
  [x] Added deterministic difficulty routing via difficulties_metrology.yaml

================================================================================
v2.0 — WHAT NEEDS TO CHANGE / BE UPDATED
================================================================================

HIGH PRIORITY (Production readiness)
------------------------------------
1) API harvesters
   [ ] nvlpubs/ntrs/usgs/noaa/faa API harvesters + evidence snapshots
   [ ] Record-level license checks for mixed-rights collections
   [ ] Add paging + resume support for large API pulls

2) Manual review UX
   [~] YELLOW review plan export (review_queue.py)
   [ ] CLI to assign reviewers + notes per target
   [ ] Optional dashboard for approvals with evidence previews

3) Testing + CI
   [ ] Unit tests for restriction scans and SPDX normalization
   [ ] Sample queue fixtures for metrology targets
   [ ] Smoke test classify -> acquire -> difficulty on small PDFs

MEDIUM PRIORITY (Quality + coverage)
------------------------------------
4) Text extraction quality
   [ ] Improve table serialization (row/column preservation)
   [ ] Improve HTML readability extraction for standards pages
   [ ] Add OCR fallback for scanned PDFs

5) Data normalization
   [ ] Unicode normalization for metrology symbols (µ, Ω, ±, etc.)
   [ ] Split-aware partitioning with split_group_id for datasets
   [ ] Near-duplicate detection tuned for technical reports

LOW PRIORITY (Ergonomics + future-proofing)
-------------------------------------------
6) Packaging + deployment
   [ ] Dockerfile for metrology pipeline + example volume mounts
   [ ] Example orchestration (cron/Argo) for recurring runs
   [ ] Publish pinned requirements/lockfile

7) Observability
   [ ] Metrics on queue sizes, download throughput, and review turnaround
   [ ] Alerts for missing license evidence or stalled downloads

================================================================================
Notes for next iteration
================================================================================
- Preserve tables and captions; standards often encode definitions there.
- Keep paywalled standards (ISO/IEEE) disabled.
- Maintain routing metadata on every chunk for deterministic difficulty mapping.
